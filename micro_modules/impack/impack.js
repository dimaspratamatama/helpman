"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}var Impack=function(){function t(e){_classCallCheck(this,t),this.sources=e,this.state={packageId:function(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<5;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}(),isDownloaded:!1}}return _createClass(t,[{key:"createStyle",value:function(e){var t=document.createElement("link");t.setAttribute("id",this.state.packageId),t.setAttribute("rel","stylesheet"),t.type="text/css",void 0!==e.crossorigin&&!1!==e.crossorigin&&t.setAttribute("crossorigin",e.crossorigin),t.setAttribute("href",e.from),"head"===e.on?document.head.appendChild(t):"body"===e.on?document.body.appendChild(t):document.getElementById(e.on).appendChild(t)}},{key:"createScript",value:function(e,t){var n=document.createElement("script");n.setAttribute("id",this.state.packageId),n.type="text/javascript",void 0!==e.crossorigin&&!1!==e.crossorigin&&n.setAttribute("crossorigin",e.crossorigin),n.setAttribute("src",e.from),"head"===e.on?document.head.appendChild(n):"body"===e.on?document.body.appendChild(n):document.getElementById(e.on).appendChild(n),void 0!==t&&(n.readyState?n.onreadystatechange=function(){"loaded"!==n.readyState&&"complete"!==n.readyState||(n.onreadystatechange=null,t(!0))}:n.onload=function(){t(!0)})}},{key:"next",value:function(r){var o=this,a=this;if(void 0!==this.sources.css){var e=this.sources.css;for(var t in e)this.createStyle(e[t])}void 0!==this.sources.js&&function(){function e(t){o.createScript(n[t],function(e){a.state.isDownloaded=e,parseInt(t)+1===n.length&&a.state.isDownloaded&&r()})}var n=o.sources.js;for(var t in n)e(t)}()}}]),t}();